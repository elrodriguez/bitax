{"version":3,"sources":["./src/app/pages/system/personal-information/personal-information.page.html","./src/app/pages/system/personal-information/personal-information-routing.module.ts","./src/app/pages/system/personal-information/personal-information.module.ts","./src/app/pages/system/personal-information/personal-information.page.scss","./src/app/pages/system/personal-information/personal-information.page.ts"],"names":[],"mappings":"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","file":"pages-system-personal-information-personal-information-module-es5.js","sourcesContent":["module.exports = \"<app-header title=\\\"InformaciÃ³n Personal\\\" backIcon=\\\"yes\\\"></app-header>\\n\\n<ion-content fullscreen>\\n  <form class=\\\"form\\\" [formGroup]=\\\"validations_form\\\"  (ngSubmit)=\\\"saveChanges(validations_form.value)\\\">\\n    <ion-grid class=\\\"ion-no-padding\\\">\\n      <ion-row>\\n        <ion-col offset-xl=\\\"5\\\" size-xl=\\\"2\\\" class=\\\"ion-no-padding\\\">\\n          <ion-list>\\n            <ion-item>\\n              <ion-label position=\\\"stacked\\\">Nombres</ion-label>\\n              <ion-input type=\\\"text\\\" formControlName=\\\"name\\\"></ion-input>\\n            </ion-item>\\n            <div class=\\\"validation-errors\\\">\\n              <ng-container *ngFor=\\\"let validation of validation_messages.name\\\">\\n                <div class=\\\"error-message ion-padding\\\" *ngIf=\\\"validations_form.get('name').hasError(validation.type) && (validations_form.get('name').dirty || validations_form.get('name').touched)\\\">\\n                  {{ validation.message }}\\n                </div>\\n              </ng-container>\\n            </div >\\n            <ion-item>\\n              <ion-label position=\\\"stacked\\\">Apellidos</ion-label>\\n              <ion-input type=\\\"text\\\" formControlName=\\\"last_name\\\"></ion-input>\\n            </ion-item>\\n            <div class=\\\"validation-errors\\\">\\n              <ng-container *ngFor=\\\"let validation of validation_messages.last_name\\\">\\n                <div class=\\\"error-message ion-padding\\\" *ngIf=\\\"validations_form.get('last_name').hasError(validation.type) && (validations_form.get('last_name').dirty || validations_form.get('last_name').touched)\\\">\\n                  {{ validation.message }}\\n                </div>\\n              </ng-container>\\n            </div>\\n            <ion-item>\\n              <ion-label position=\\\"stacked\\\">Email</ion-label>\\n              <ion-input type=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\n            </ion-item>\\n            <div class=\\\"validation-errors\\\">\\n              <ng-container *ngFor=\\\"let validation of validation_messages.email\\\">\\n                <div class=\\\"error-message ion-padding\\\" *ngIf=\\\"validations_form.get('email').hasError(validation.type) && (validations_form.get('email').dirty || validations_form.get('email').touched)\\\">\\n                  {{ validation.message }}\\n                </div>\\n              </ng-container>\\n            </div>\\n            <ion-item>\\n              <ion-label position=\\\"stacked\\\" >Fecha de Nacimiento</ion-label>\\n              <ion-datetime displayFormat=\\\"DD/MM/YYYY\\\" \\n                cancelText=\\\"Cancelar\\\"\\n                doneText=\\\"Seleccionar\\\"\\n                formControlName=\\\"dateNac\\\"\\n              ></ion-datetime>\\n            </ion-item>\\n            <ion-radio-group formControlName=\\\"sex\\\">\\n              <ion-list-header>\\n                <ion-label>Sexo</ion-label>\\n              </ion-list-header>\\n              <ion-item>\\n                <ion-label>Masculino</ion-label>\\n                <ion-radio slot=\\\"start\\\" value=\\\"1\\\" color=\\\"primary\\\"></ion-radio>\\n              </ion-item>\\n              <ion-item>\\n                <ion-label>Femenino</ion-label>\\n                <ion-radio slot=\\\"start\\\" value=\\\"0\\\" color=\\\"primary\\\"></ion-radio>\\n              </ion-item>\\n            </ion-radio-group>\\n          </ion-list>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col offset-xl=\\\"5\\\" size-xl=\\\"2\\\">\\n          <section>\\n            <ion-button type=\\\"submit\\\" expand=\\\"block\\\" [disabled]=\\\"!validations_form.valid\\\">Guardar</ion-button>\\n          </section>\\n          <section>\\n            <label class=\\\"error-message\\\">{{ errorMessage }}</label>\\n            <label class=\\\"success-message\\\">{{ successMessage }}</label>\\n          </section>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PersonalInformationPage } from './personal-information.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PersonalInformationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PersonalInformationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PersonalInformationPageRoutingModule } from './personal-information-routing.module';\n\nimport { PersonalInformationPage } from './personal-information.page';\nimport { ComponentModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PersonalInformationPageRoutingModule,\n    ComponentModule,\n    ReactiveFormsModule\n  ],\n  declarations: [PersonalInformationPage]\n})\nexport class PersonalInformationPageModule {}\n","module.exports = \"section {\\n  margin-top: 1em;\\n  margin-bottom: 2.5em;\\n}\\n\\nsection:not(.full-width),\\n.full-width > header {\\n  padding: 0 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc3lzdGVtL3BlcnNvbmFsLWluZm9ybWF0aW9uL0M6XFx4YW1wcFxcaHRkb2NzXFxiaXRheC9zcmNcXGFwcFxccGFnZXNcXHN5c3RlbVxccGVyc29uYWwtaW5mb3JtYXRpb25cXHBlcnNvbmFsLWluZm9ybWF0aW9uLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc3lzdGVtL3BlcnNvbmFsLWluZm9ybWF0aW9uL3BlcnNvbmFsLWluZm9ybWF0aW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7RUFDQSxvQkFBQTtBQ0NKOztBRENBOztFQUVJLGVBQUE7QUNFSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N5c3RlbS9wZXJzb25hbC1pbmZvcm1hdGlvbi9wZXJzb25hbC1pbmZvcm1hdGlvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJzZWN0aW9uIHtcclxuICAgIG1hcmdpbi10b3A6IDFlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDIuNWVtO1xyXG59XHJcbnNlY3Rpb246bm90KC5mdWxsLXdpZHRoKSxcclxuLmZ1bGwtd2lkdGggPiBoZWFkZXIge1xyXG4gICAgcGFkZGluZzogMCAxMHB4O1xyXG59Iiwic2VjdGlvbiB7XG4gIG1hcmdpbi10b3A6IDFlbTtcbiAgbWFyZ2luLWJvdHRvbTogMi41ZW07XG59XG5cbnNlY3Rpb246bm90KC5mdWxsLXdpZHRoKSxcbi5mdWxsLXdpZHRoID4gaGVhZGVyIHtcbiAgcGFkZGluZzogMCAxMHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { UserService } from 'src/app/services/api/system/user.service';\nimport { LoadingService } from 'src/app/services/components/loading.service';\nimport { FormGroup, Validators, FormControl } from '@angular/forms';\nimport { User } from 'src/app/interfaces/user';\nimport { AlertService } from 'src/app/services/components/alert.service';\n\n@Component({\n  selector: 'app-personal-information',\n  templateUrl: './personal-information.page.html',\n  styleUrls: ['./personal-information.page.scss'],\n})\nexport class PersonalInformationPage implements OnInit {\n  \n  private dataUser: User;\n  private sessionUser: User;\n  public sexo: String = '1';\n\n  validations_form: FormGroup;\n  errorMessage: string = '';\n  successMessage: string = '';\n\n  validation_messages = {\n    'email': [\n      { type: 'required', message: 'Email es requerido.' },\n      { type: 'pattern', message: 'Introduzca un correo electrÃ³nico vÃ¡lido.' }\n    ],\n    'name': [\n      { type: 'required', message: 'Nombres es requerido.' }\n    ],\n    'last_name': [\n      { type: 'required', message: 'Apellidos es requerido.' }\n    ],\n    'dateNac': [\n      { type: 'required', message: 'Fecha Nacimiento es requerido.' }\n    ]\n  };\n\n  constructor(\n    private userService: UserService,\n    private loadingService: LoadingService,\n    private alertService: AlertService\n  ) { }\n\n  ngOnInit() {\n    this.validations_form = new FormGroup({\n      email: new FormControl('', Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      ])),\n      name: new FormControl('', Validators.compose([\n        Validators.required\n      ])),\n      last_name: new FormControl('', Validators.compose([\n        Validators.required\n      ])),\n      dateNac: new FormControl('', Validators.required),\n      sex: new FormControl('')\n    });\n    this.getUser();\n  }\n  async saveChanges(values){\n    this.dataUser = {\n      uid: this.sessionUser.uid,\n      email: values.email,\n      name: values.name,\n      last_name: values.last_name,\n      dateNac: values.dateNac,\n      sex: values.sex\n    };\n    this.userService.updateUser(this.dataUser).then( () => {\n      this.alertService.presentAlert('Enhorabuena','Mensaje de confirmaciÃ³n','Los datos se actualizaron correctamente.')\n      this.errorMessage = \"\";\n    }).catch((error) => {\n      this.errorMessage = error.message;\n      this.successMessage = \"\";\n    });\n  }\n  async getUser(){\n    this.sessionUser = JSON.parse(localStorage.getItem('user'));\n    this.userService.getUserById(this.sessionUser.uid).valueChanges().subscribe((data: User) => {\n      this.validations_form.setValue({\n        email: data.email,\n        name: data.name,\n        last_name: data.last_name,\n        dateNac: data.dateNac,\n        sex: data.sex\n      });\n    },(error2) => {\n      console.log(error2);\n    });\n  }\n}\n"],"sourceRoot":""}