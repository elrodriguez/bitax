{"version":3,"sources":["./src/app/pages/profile/profile.page.html","./src/app/pages/profile/profile-routing.module.ts","./src/app/pages/profile/profile.module.ts","./src/app/pages/profile/profile.page.scss","./src/app/pages/profile/profile.page.ts"],"names":[],"mappings":"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","file":"pages-profile-profile-module-es5.js","sourcesContent":["module.exports = \"\\n<app-header title=\\\"Mi Perfil\\\" backIcon=\\\"yes\\\"></app-header>\\n<ion-content class=\\\"ion-no-padding\\\">\\n  <ion-segment>\\n    <ion-segment-button (click)=\\\"takePhoto()\\\">\\n      <ion-icon name=\\\"camera\\\"></ion-icon>\\n      <ion-label>Camara</ion-label>\\n    </ion-segment-button>\\n    <ion-segment-button (click)=\\\"searchInGallery()\\\">\\n      <ion-icon name=\\\"images\\\"></ion-icon>\\n      <ion-label>Galeria</ion-label>\\n    </ion-segment-button>\\n  </ion-segment>\\n  <ion-card class=\\\"ion-no-margin\\\">\\n      <img src=\\\"{{ userAvatar }}\\\" *ngIf=\\\"userAvatar\\\" style=\\\"width: 100%;\\\" />\\n      <ion-card-header>\\n        <ion-card-subtitle>{{ dataUser.email }}</ion-card-subtitle>\\n        <ion-card-title>{{ dataUser.last_name }} {{ dataUser.name }}</ion-card-title>\\n      </ion-card-header>\\n      <ion-item href=\\\"#\\\" class=\\\"activated\\\">\\n        <ion-icon name=\\\"wifi\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>Card Link Item 1 .activated</ion-label>\\n      </ion-item>\\n      <ion-item href=\\\"#\\\">\\n        <ion-icon name=\\\"wine\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>Card Link Item 2</ion-label>\\n      </ion-item>\\n      <ion-item class=\\\"activated\\\">\\n        <ion-icon name=\\\"warning\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>Card Button Item 1 .activated</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-icon name=\\\"walk\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>Card Button Item 2</ion-label>\\n      </ion-item>\\n  </ion-card>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\nimport { ComponentModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProfilePageRoutingModule,\n    ComponentModule\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Byb2ZpbGUvcHJvZmlsZS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { User } from 'src/app/interfaces/user';\nimport { UserService } from 'src/app/services/api/system/user.service';\nimport { LoadingService } from 'src/app/services/components/loading.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { AngularFireStorage } from '@angular/fire/storage';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n\n  userAvatar: any;\n  private dataUser: User = {};\n  private sessionUser: User;\n\n\n  constructor(\n    private userService: UserService,\n    private loadingService: LoadingService,\n    private camera: Camera,\n    private angularFireStorage: AngularFireStorage\n  ) {\n    this.getData();\n  }\n\n  ngOnInit() {\n    \n    this.userAvatar = \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTgTDL4Cw8qGMQhaV7DSI6lBXergjv2nhPFEf5Q-r-g0K25Kn9G7Q&s\";\n    let id = Math.random().toString(36).substring(2);\n    let filePath = 'upload/users/'+this.sessionUser.uid+'/'+id+'.jpeg'\n    const pictures = this.angularFireStorage.ref(filePath);\n    const tack = this.angularFireStorage.upload(filePath,this.userAvatar);\n  }\n  async onUploadAvatar(file){\n    let id = Math.random().toString(36).substring(2);\n    let filePath = 'upload/users/'+this.sessionUser.uid+'/'+id+'.jpeg'\n    const pictures = this.angularFireStorage.ref(filePath);\n    const tack = this.angularFireStorage.upload(filePath,file);\n  }\n\n  async getData(){\n    this.sessionUser = JSON.parse(localStorage.getItem('user'));\n    this.userService.getUserById(this.sessionUser.uid).valueChanges().subscribe((data: User) => {\n      this.dataUser = {\n        email: data.email,\n        uid: data.uid,\n        name: data.name,\n        last_name: data.last_name,\n        dateNac: data.dateNac,\n        sex: data.sex\n      }\n    },(error2) => {\n      console.log(error2);\n    });\n  }\n\n  takePhoto(){\n    const options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      allowEdit:false,\n      targetHeight:1024,\n      targetWidth:1024,\n      correctOrientation:true,\n      saveToPhotoAlbum:true\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      this.userAvatar = 'data:image/jpeg;base64,' + imageData;\n      \n      this.onUploadAvatar(this.userAvatar);\n    }, (err) => {\n      console.log(err)\n    });\n  }\n\n  searchInGallery(){\n    const options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      allowEdit:false,\n      targetHeight:1024,\n      targetWidth:1024,\n      correctOrientation:true,\n      saveToPhotoAlbum:true\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      this.userAvatar = 'data:image/jpeg;base64,' + imageData;\n      this.onUploadAvatar(this.userAvatar);\n    }, (err) => {\n      console.log(err)\n    });\n  }\n}\n"],"sourceRoot":""}